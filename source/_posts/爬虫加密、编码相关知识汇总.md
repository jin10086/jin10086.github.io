---
title: 加密、编码相关知识汇总
categories:
  - 爬虫
date: 2020-05-18 10:14:12
tags:
---

## ascii

### js

```js
var str = "A";
str.charCodeAt();  // 65

String.fromCharCode(65);  // 'A'
```

### python

```python
s = 'A'
print(ord(s)) #65

print(chr(65)) # A
```

## base64

### js

```js
window.btoa("python123") //cHl0aG9uMTIz

window.atob("cHl0aG9uMTIz") //python123

```

### python

```python
import base64

base64.b64encode(b'python123')  # b'cHl0aG9uMTIz'

base64.b64decode(b'cHl0aG9uMTIz')  # b'python123'
```

## AES

### js

https://github.com/brix/crypto-js 基于这个库

参考 https://cryptojs.gitbook.io/docs/#ciphers

```js
var CryptoJS = require("crypto-js");
// 参考https://cryptojs.gitbook.io/docs/#ciphers

var password = 'dahsjhfjakhfjksdsssss1sx' //密码
var iv = 'fdshgjdsngjknaaa'


var encrypted = CryptoJS.AES.encrypt("helloworld", password);
var decrypted = CryptoJS.AES.decrypt(encrypted, password);
console.log('encrypted: ', encrypted.toString())
console.log('decrypted: ', decrypted.toString(CryptoJS.enc.Utf8))
// encrypted: U2FsdGVkX1 + mjJEOaXrsYp + PtlZvC0P4HIZZh6LYAmM =
// decrypted: helloworld

var encrypted1 = CryptoJS.AES.encrypt("helloworld", password, {
    iv: iv,
    mode: CryptoJS.mode.CBC,
    padding: CryptoJS.pad.Pkcs7
});
var decrypted1 = CryptoJS.AES.decrypt(encrypted1, password, {
    iv: iv,
    mode: CryptoJS.mode.CBC,
    padding: CryptoJS.pad.Pkcs7
});
console.log('encrypted1: ', encrypted1.toString())
console.log('decrypted1: ', decrypted1.toString(CryptoJS.enc.Utf8))

// encrypted1: U2FsdGVkX1 + bg / GfdQ4dHlCKpGj15ZsC6ewZru327lY =
// decrypted1: helloworld

```

**CryptoJS supports the following modes:**

- CBC (the default)
- CFB
- CTR
- OFB
- ECB

**And CryptoJS supports the following padding schemes:**

- Pkcs7 (the default)
- Iso97971
- AnsiX923
- Iso10126
- ZeroPadding
- NoPadding

### python

https://pypi.org/project/pycrypto/ 基于这个库

```python
from Crypto.Cipher import AES

password = 'dahsjhfjakhfjksdsssss1sx' 
iv = 'fdshgjdsngjknaaa'

##这边填充方式没有自带的方法,需要自己写
# pad = lambda s: s + (16 - len(s)%16) * chr(0) # ZeroPadding
pad = lambda s: s + (16 - len(s)%16) * chr(16 - len(s)%16) # Pkcs7

obj = AES.new(password,AES.MODE_CBC,iv)
encrypted = obj.encrypt(pad("helloworld").encode("utf8"))
print(encrypted)
# b'k\xb8\xad\x1c\xde\xa3O1n-\xf9\x99\xbc\x16\xb4\xd7'

obj2 = AES.new(password, AES.MODE_CBC, iv)
print(obj2.decrypt(encrypted)) #结果也需要手动去掉填充...
# b'helloworld\x06\x06\x06\x06\x06\x06' 
```

## RSA

### js

### python


